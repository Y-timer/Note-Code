<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>异步JavaScript</title>
  <style>
    textarea{
      display: block;
      margin: 1rem 0;
    }
  </style>
</head>
<body>
  <label for="quota">素数个数：</label>
  <input type="text" id="quota" name="quota" value="100000" />
  <button id="generate">生成素数</button>
  <button id="reload">重载</button>
  <textarea id="user-input" rows="3" cols="60">点击生成素数按钮后试着在这里输入</textarea>
  <div id="output"></div>
  <script>
    //同步编程
    // const name = "Kevin";
    // const greeting = `Hello! my name is ${name} `;
    // console.log(greeting);

    //同步函数
    // function Greeting(name){
    //   return `Hello! my name is ${name}`;
    // };
    // const name = "kevin";
    // const greeting = Greeting(name);
    // console.log(greeting);

    //耗时函数
    function generatePrimes(quota) {
    function isPrime(n) {
    for (let c = 2; c <= Math.sqrt(n); ++c) {
      if (n % c === 0) {
        return false;
      }
    }
    return true;
  }
  const primes = [];
  const maximum = 1000000;
  while (primes.length < quota) {
    const candidate = Math.floor(Math.random() * (maximum + 1));
    if (isPrime(candidate)) {
      primes.push(candidate);
    }
  }
  return primes;
}
  document.querySelector("#generate").addEventListener("click", () => {
  const quota = document.querySelector("#quota").value;
  const primes = generatePrimes(quota);
  document.querySelector("#output").textContent =
    `完成！已生成素数${quota}个。`;
});
  document.querySelector("#reload").addEventListener("click", () => {
  document.querySelector("#user-input").value = "点击生成素数按钮后试着在这里输入";
  document.location.reload();
});

  </script>
</body>
</html>